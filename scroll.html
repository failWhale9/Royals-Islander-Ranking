<!DOCTYPE html>

<link href="DataTables/datatables.min.css" rel="stylesheet">
 
<script src="DataTables/datatables.min.js"></script>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MapleRoyals Islander Ranking</title>
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="islander.css">

</head>
<body>

<img src="images/title.png" id="titleImage"></img>

<div id="navbar">
    <a href=""><span class="navInactive"> Rankings </span></a>
    <a href="/badges.html"><span class="navActive"> Badges </span></a>
    <a href="/unranked.html"><span class="navActive"> Unranked Islanders </span></a>
</div>



<div class="scrolldiv">
    <label class="menuText">Base item: </label> 
      <select id="itemBaseSelect" onchange="baseChange(event)">
          <option value ="none">-------------</option>
          <option value ="gomu">White Gomushin</option>
          <option value ="stripeM">Blue One-Lined T-Shirt</option>
          <option value ="stripeF">Red Striped T-Shirt</option>
          <option value ="ice">Ice Jeans</option>
          <option value ="sweat">Grey Thick Sweat Pants</option>
          <option value ="wdana">White Bandana</option>
          <option value ="witch">Talking Witch Hat</option>
          <option value ="broom">Broomstick</option>
          <option value ="wbeltR">Witch's Crimson Belt</option>
          <option value ="wbeltB">Witch's Ocean Blue Belt</option>
          <option value ="wbeltP">Witch's Deep Purple Belt</option>
          <option value ="lights">Maplemas Lights</option>
          <option value ="basket">Pumpkin Basket (2006 SE)</option>
      </select>

    <label class="menuText">Character: </label>
    <select id="character" onchange="charChange()">
        <option value ="toben">Default</option>
        <option value ="namo">Namo</option>
        <option value ="lowly">Lowly</option>
        <option value ="mooshy">Mooshy</option>
    </select>
    <input type="submit" value="New Item" onclick="newItem()">
</div>

<!-- Inventory XY Values: 
 Top Left: 84,618
 Each X: +36
 Each Y: +34
 Shoe: 225,237
-->

<div id="scrollsim" class="scrollsim">
<!-- Scrolls -->
<img id="shoejmp10" class="draggableImage hoverscroll" src="images/scroll/10.png" style="display:none; position:absolute; top:84px; left:618px;" draggable="true" data-title="Scroll for Shoes for Jump 10%" data-desc1="Improves jump on shoes." data-desc2="Success rate: 10%, jump +5," data-desc3="DEX+3, speed+1." data-desc4="">
<img id="shoedex10" class="draggableImage hoverscroll" src="images/scroll/10.png" style="display:none; position:absolute; top:84px; left:654px;" draggable="true" data-title="Scroll for Shoes for DEX 10%" data-desc1="Improves dexterity on shoes." data-desc2="Success rate: 10%, Avoidability" data-desc3="+5, accuraccy +3, speed+1" data-desc4="">
<img id="topdef10" class="draggableImage hoverscroll" src="images/scroll/10.png" style="display:none; position:absolute; top:84px; left:618px;" draggable="true" data-title="Scroll for Topwear for DEF 10%" data-desc1="Improves weapon def. on" data-desc2=" topwear." data-desc3="Success rate:10%, weapon def." data-desc4="+5, magic def. +3, MaxHP+10.">
<img id="botdef10" class="draggableImage hoverscroll" src="images/scroll/10.png" style="display:none; position:absolute; top:84px; left:618px;" draggable="true" data-title="Scroll for Bottomwear for DEF 10%" data-desc1="Improves weapon def. on the" data-desc2="bottomwear." data-desc3="Success rate:10%, weapon def." data-desc4="+5, magic def.+3, MaxHP+10.">
<img id="hatdef10" class="draggableImage hoverscroll" src="images/scroll/10.png" style="display:none; position:absolute; top:84px; left:618px;" draggable="true" data-title="Scroll for Helmet for DEF 10%" data-desc1="Improves helmet def." data-desc2="Success Rate:10%, weapon" data-desc3="def.+5, magic def.+3," data-desc4="accuracy+1.">
<img id="hatdef60" class="draggableImage hoverscroll" src="images/scroll/60.png" style="display:none; position:absolute; top:84px; left:654px;" draggable="true" data-title="Scroll for Helmet for DEF 60%" data-desc1="Improves helmet def." data-desc2="Success rate:60%, weapon def." data-desc3="+2, magic def, +1." data-desc4="">
<img id="witchscr" class="draggableImage hoverscroll" src="images/scroll/witchscr.png" style="display:none; position:absolute; top:84px; left:618px;" draggable="true" data-title="Normal Witch Scroll" data-desc1="A scroll that, depending on" data-desc2="chance, will either improve or" data-desc3="worsen the Talking Witch Hat" data-desc4="or Broomstick obtained from the Witch.">
<img id="beltscr" class="draggableImage hoverscroll" src="images/scroll/witchscr.png" style="display:none; position:absolute; top:84px; left:618px;" draggable="true" data-title="Witch's Belt Scroll" data-desc1="A scroll that, depending on" data-desc2="chance, will either improve or" data-desc3="worsen the Witch's Belts" data-desc4="obtained from the Witch.">
<img id="1hsatk" class="draggableImage hoverscroll" src="images/scroll/10.png" style="display:none; position:absolute; top:84px; left:618px;" draggable="true" data-title="Scroll for One-Handed Sword for ATT 10%" data-desc1="Improves attack on" data-desc2="one-handed sword." data-desc3="Success rate:10%, weapon" data-desc4="attack+5, STR+3, weapon def.+1.">
<img id="chaos" class="draggableImage hoverscroll" src="images/scroll/chaos.png" style="display:none; position:absolute; top:84px; left:654px;" draggable="true" data-title="Chaos Scroll 60%" data-desc1="Alters the equipment for better" data-desc2="or worse. Not available on" data-desc3="Cash Items." data-desc4="Success rate:60%">


<!-- Bases -->
<img id="gomu" class="dropZone activeBase" src="images/scroll/gomu.png" style="display:none; position:absolute; top:225px; left:237px;">
<img id="stripeM" class="dropZone" src="images/scroll/stripeM.png" style="display:none; position:absolute; top:154px; left:203px;">
<img id="stripeF" class="dropZone" src="images/scroll/stripeF.png" style="display:none; position:absolute; top:155px; left:205px;">
<img id="ice" class="dropZone" src="images/scroll/ice.png" style="display:none; position:absolute; top:184px; left:206px;">
<img id="sweat" class="dropZone" src="images/scroll/sweat.png" style="display:none; position:absolute; top:186px; left:207px;">
<img id="wdana" class="dropZone" src="images/scroll/wdana.png" style="display:none; position:absolute; top:55px; left:205px;">
<img id="witch" class="dropZone" src="images/scroll/witch.png" style="display:none; position:absolute; top:49px; left:202px;">
<img id="broom" class="dropZone" src="images/scroll/broom.png" style="display:none; position:absolute; top:145px; left:266px;">
<img id="wbeltR" class="dropZone" src="images/scroll/wbeltR.png" style="display:none; position:absolute; top:185px; left:235px;">
<img id="wbeltB" class="dropZone" src="images/scroll/wbeltB.png" style="display:none; position:absolute; top:185px; left:235px;">
<img id="wbeltP" class="dropZone" src="images/scroll/wbeltP.png" style="display:none; position:absolute; top:185px; left:235px;">
<img id="lights" class="dropZone" src="images/scroll/lights.png" style="display:none; position:absolute; top:150px; left:266px;">
<img id="basket" class="dropZone" src="images/scroll/basket.png" style="display:none; position:absolute; top:150px; left:270px;">

<!-- Effects -->
<img id="char" src="/images/scroll/toben-neutral.gif" style="position:absolute; top:150px; left:442px; z-index: 9990;">
<img id="face" src="" style="position:absolute; top:152px; left:444px; z-index: 9999;">
<img id="scrollYes" src="" style="position:absolute; top:-10px; left:337px;">
<img id="scrollNo" src="" style="position:absolute; top:60px; left:413px;">
</div>




<div class="scrolldiv" style="padding: 20px 20px 30px 20px;">
    <div class="statContainer">
        <span class="scrollStat"><p>Scrolls Used:</p><p id="scrUsed" class="scrollStatValue">0</p></span>
        <span class="scrollStat"><p>Bases Used:</p><p id="basUsed" class="scrollStatValue">0</p></span>
        <span class="scrollStat"><p>Best Result:</p><p id="bestRes" class="scrollStatValue" style="font-size: 20px">N/A</p></span>
    </div>
    <input type="submit" value="Reset Stats" onclick="resetStats()" style="float:right;margin-bottom:10px;">
</div>


<div id="stripeMBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="stripeMTitle" class="itemTitle">Blue One-Lined T-Shirt</span> <span id="stripeMTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/stripeM.png" style="top:22px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 11</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: TOP</li>
    <li id="stripeMHpLi">HP: <span class="statValue">+</span><span id="stripeMHp" class="statValue">0</span></li>
    <li id="stripeMWdefLi">WEAPON DEF: <span id="stripeMWdef" class="statValue">0</span></li>
    <li id="stripeMMdefLi">MAGIC DEF: <span id="stripeMMdef" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="stripeMSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="stripeFBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="stripeFTitle" class="itemTitle">Red-Striped T-Shirt</span> <span id="stripeFTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/stripeF.png" style="top:22px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 11</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: TOP</li>
    <li id="stripeFHpLi">HP: <span class="statValue">+</span><span id="stripeFHp" class="statValue">0</span></li>
    <li id="stripeFWdefLi">WEAPON DEF: <span id="stripeFWdef" class="statValue">0</span></li>
    <li id="stripeFMdefLi">MAGIC DEF: <span id="stripeFMdef" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="stripeFSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="iceBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="iceTitle" class="itemTitle">Ice Jeans</span> <span id="iceTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/ice.png" style="top:22px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 16</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: BOTTOM</li>
    <li id="iceHpLi">HP: <span class="statValue">+</span><span id="iceHp" class="statValue">0</span></li>
    <li id="iceMpLi">MP: <span class="statValue">+</span><span id="iceMp" class="statValue">0</span></li>
    <li id="iceWdefLi">WEAPON DEF: <span id="iceWdef" class="statValue">0</span></li>
    <li id="iceMdefLi">MAGIC DEF: <span id="iceMdef" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="iceSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="sweatBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="sweatTitle" class="itemTitle">Grey Thick Sweat Pants</span> <span id="sweatTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/sweat.png" style="top:22px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 11</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: BOTTOM</li>
    <li id="sweatHpLi">HP: <span class="statValue">+</span><span id="sweatHp" class="statValue">0</span></li>
    <li id="sweatWdefLi">WEAPON DEF: <span id="sweatWdef" class="statValue">0</span></li>
    <li id="sweatMdefLi">MAGIC DEF: <span id="sweatMdef" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="sweatSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="wdanaBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="wdanaTitle" class="itemTitle">White Bandana</span> <span id="wdanaTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/wdana.png" style="top:22px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 10</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: HAT</li>
    <li id="wdanaAccLi">ACCURACY: <span class="statValue">+</span><span id="wdanaAcc" class="statValue">0</span></li>
    <li id="wdanaWdefLi">WEAPON DEF: <span id="wdanaWdef" class="statValue">0</span></li>
    <li id="wdanaMdefLi">MAGIC DEF: <span id="wdanaMdef" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="wdanaSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="gomuBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="gomuTitle" class="itemTitle">White Gomushin</span> <span id="gomuTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/gomu.png">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 11</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: SHOES</li>
    <li id="gomuDexLi">DEX: <span class="statValue">+</span><span id="gomuDex" class="statValue">0</span></li>
    <li id="gomuWdefLi">WEAPON DEF.: <span id="gomuWdef" class="statValue">0</span></li>
    <li id="gomuAccLi">ACCURACY: <span  class="statValue">+</span><span id="gomuAcc" class="statValue">0</span></li>
    <li id="gomuAvoLi">AVOIDABILITY: <span class="statValue">+</span><span id="gomuAvo" class="statValue">0</span></li>
    <li id="gomuSpdLi">SPEED: <span class="statValue">+</span><span id="gomuSpd" class="statValue">0</span></li>
    <li id="gomuJmpLi">JUMP: <span class="statValue">+</span><span id="gomuJmp" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="gomuSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="witchBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="witchTitle" class="itemTitle">Talking Witch Hat</span> <span id="witchTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/witch.png" style="top:20px;left:19px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 20</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: HAT</li>
    <li id="witchStrLi">STR: <span class="statValue">+</span><span id="witchStr" class="statValue">0</span></li>
    <li id="witchDexLi">DEX: <span class="statValue">+</span><span id="witchDex" class="statValue">0</span></li>
    <li id="witchIntLi">INT: <span class="statValue">+</span><span id="witchInt" class="statValue">0</span></li>
    <li id="witchLukLi">LUK: <span class="statValue">+</span><span id="witchLuk" class="statValue">0</span></li>
    <li id="witchMpLi">MP: <span class="statValue">+</span><span id="witchMp" class="statValue">0</span></li>
    <li id="witchWdefLi">WEAPON DEF.: <span id="witchWdef" class="statValue">0</span></li>
    <li id="witchMdefLi">MAGIC DEF.: <span id="witchMdef" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="witchSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="broomBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="broomTitle" class="itemTitle">Broomstick</span> <span id="broomTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/broom.png" style="top:17px;left:19px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 20</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: ONE-HANDED SWORD</li>
    <li>ATTACK SPEED: FAST</li>
    <li id="broomWatkLi">WEAPON ATTACK: <span id="broomWatk" class="statValue">0</span></li>
    <li id="broomSpdLi">SPEED: <span class="statValue">+</span><span id="broomSpd" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="broomSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="wbeltBBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="wbeltBTitle" class="itemTitle">Witch's Ocean Blue Belt</span> <span id="wbeltBTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/wbeltB.png" style="top:17px;left:19px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 55</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: BELT</li>
    <li id="wbeltBWdefLi">WEAPON DEF.: <span id="wbeltBWdef" class="statValue">0</span></li>
    <li id="wbeltBMdefLi">MAGIC DEF.: <span id="wbeltBMdef" class="statValue">0</span></li>
    <li id="wbeltBSpdLi">SPEED: <span class="statValue">+</span><span id="wbeltBSpd" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="wbeltBSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="wbeltRBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="wbeltRTitle" class="itemTitle">Witch's Crimson Belt</span> <span id="wbeltRTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/wbeltR.png" style="top:17px;left:19px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 30</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: BELT</li>
    <li id="wbeltRWdefLi">WEAPON DEF.: <span id="wbeltRWdef" class="statValue">0</span></li>
    <li id="wbeltRMdefLi">MAGIC DEF.: <span id="wbeltRMdef" class="statValue">0</span></li>
    <li id="wbeltRJmpLi">JUMP: <span class="statValue">+</span><span id="wbeltRJmp" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="wbeltRSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="wbeltPBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="wbeltPTitle" class="itemTitle">Witch's Deep Purple Belt</span> <span id="wbeltPTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/wbeltP.png" style="top:17px;left:19px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 85</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: BELT</li>
    <li id="wbeltPWatkLi">WEAPON ATTACK: <span id="wbeltPWatk" class="statValue">0</span></li>
    <li id="wbeltPMatkLi">MAGIC ATTACK: <span id="wbeltPMatk" class="statValue">0</span></li>
    <li id="wbeltPWdefLi">WEAPON DEF.: <span id="wbeltPWdef" class="statValue">0</span></li>
    <li id="wbeltPMdefLi">MAGIC DEF.: <span id="wbeltPMdef" class="statValue">0</span></li>
    <li id="wbeltPSpdLi">SPEED: <span class="statValue">+</span><span id="wbeltPSpd" class="statValue">0</span></li>
    <li id="wbeltPJmpLi">JUMP: <span class="statValue">+</span><span id="wbeltPJmp" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="wbeltPSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="lightsBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="lightsTitle" class="itemTitle">Maplemas Lights</span> <span id="lightsTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/lights.png" style="top:17px;left:19px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 25</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: ONE-HANDED SWORD</li>
    <li>ATTACK SPEED: FAST</li>
    <li id="lightsStrLi">STR: <span class="statValue">+</span><span id="lightsStr" class="statValue">0</span></li>
    <li id="lightsWatkLi">WEAPON ATTACK: <span id="lightsWatk" class="statValue">0</span></li>
    <li id="lightsWdefLi">WEAPON DEF.: <span id="lightsWdef" class="statValue">0</span></li>
    <li id="lightsSpdLi">SPEED: <span class="statValue">+</span><span id="lightsSpd" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="lightsSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="basketBox" class="baseBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="basketTitle" class="itemTitle">Pumpkin Basket (2006 SE)</span> <span id="basketTag" class="itemTitle">(+0)</span>
  <div class="baseTop">
    <div class="baseImgBox">
      <img class="baseImg "src="images/scroll/basket.png" style="top:17px;left:19px;">
    </div>
    <div class="baseStats">
      <ul style="list-style:none;padding-left:10px;margin-top:0px;">
        <li>REQ LV: 0</li>
        <li>REQ STR: 0</li>
        <li>REQ DEX: 0</li>
        <li>REQ INT: 0</li>
        <li>REQ LUK: 0</li>
        <li>REQ FAM: 0</li>
        <li style="color:#999999">ITEM LEV: -</li>
        <li style="color:#999999">ITEM EXP: -</li>
      </ul>
    </div>
  </div>
  <div style="clear: both;"></div>
  <img src="images/scroll/classes.png">
  <ul class="statList">
    <li>CATEGORY: ONE-HANDED SWORD</li>
    <li>ATTACK SPEED: FASTER</li>
    <li id="basketStrLi">STR: <span class="statValue">+</span><span id="basketStr" class="statValue">0</span></li>
    <li id="basketDexLi">DEX: <span class="statValue">+</span><span id="basketDex" class="statValue">0</span></li>
    <li id="basketIntLi">INT: <span class="statValue">+</span><span id="basketInt" class="statValue">0</span></li>
    <li id="basketLukLi">LUK: <span class="statValue">+</span><span id="basketLuk" class="statValue">0</span></li>
    <li id="basketHpLi">MP: <span class="statValue">+</span><span id="basketHp" class="statValue">0</span></li>
    <li id="basketWatkLi">WEAPON ATTACK: <span id="basketWatk" class="statValue">0</span></li>
    <li id="basketWdefLi">WEAPON DEF.: <span id="basketWdef" class="statValue">0</span></li>
    <li id="basketSpdLi">SPEED: <span class="statValue">+</span><span id="basketSpd" class="statValue">0</span></li>
    <li>NUMBER OF UPGRADES AVAILABLE: <span id="basketSlt" class="statValue">0</span></li>
  </ul>
</div>

<div id="scrollBox" class="scrollBox">
  <span style="color:#55ccff; padding-left:5px;">●</span> <span id="scrolltipTitle" class="itemTitle">Scroll for Shoes for Jump 10%</span>
  <div style="clear: both;"></div>
  <div class="baseImgBox" style="margin-left:10px;margin-top:5px;margin-bottom:18px;">
    <img id="scrolltipImg" class="baseImg "src="images/scroll/10.png" style="top:23px;">
  </div>
  <div class="scrollStats">
    <p id="scrolltipDesc1">Improves jump on shoes.</p>
    <p id="scrolltipDesc2">Success rate: 10%, jump +5,</p>
    <p id="scrolltipDesc3">DEX+3, speed+1.</p>
    <p id="scrolltipDesc4"></p>
  </div>
  <div style="clear: both;"></div>
</div>

<div id="footer">
    <p>Page written and maintained by <img src="/images/shy.png"></p> 
</div>

<script>

const draggables = document.querySelectorAll('.draggableImage');
const dropZone = document.querySelectorAll('.dropZone');
let best = 0;

// When drag starts, set data
draggables.forEach(draggable => {
  draggable.addEventListener("dragstart", (e) => {
    let sound = new Audio('/images/scroll/DragStart.mp3');
    sound.play();
    e.dataTransfer.setData("text/plain", e.target.id);
  });
});

dropZone.forEach(zone => {

  zone.addEventListener("dragover",(e) => {
    e.preventDefault();
  });

  zone.addEventListener("drop", (e) => {
    e.preventDefault();
    const scrollType = e.dataTransfer.getData("text/plain");
    scrollActivated(scrollType, zone.id);
});

});

function updateTagColor(baseType) {
// Tag Color
  // < 0 : grey
  // 0 : white
  // 1-5: orange
  // 6-22: blue
  // 23-39: purple
  // 40+: gold
  // HP/MP count for 1/10th of a stat
  let baseline = 0;
  let total = 0;
  const title = document.getElementById(baseType + "Title");
  const tag = document.getElementById(baseType + "Tag");
  const img = document.getElementById(baseType);

  let wdef = null;
  let mdef = null;
  let watk = null;
  let matk = null;
  let hp = null;
  let mp = null;
  let spd = null;
  let jmp = null;
  let str = null;
  let dex = null;
  let int = null;
  let luk = null;
  let avo = null;
  let acc = null;

  let wdefE = document.getElementById(baseType + "Wdef");
  let mdefE = document.getElementById(baseType + "Mdef");
  let watkE = document.getElementById(baseType + "Watk");
  let matkE = document.getElementById(baseType + "Matk");
  let hpE = document.getElementById(baseType + "Hp");
  let mpE = document.getElementById(baseType + "Mp");
  let spdE = document.getElementById(baseType + "Spd");
  let jmpE = document.getElementById(baseType + "Jmp");
  let strE = document.getElementById(baseType + "Str");
  let dexE = document.getElementById(baseType + "Dex");
  let intE = document.getElementById(baseType + "Int");
  let lukE = document.getElementById(baseType + "Luk");
  let avoE = document.getElementById(baseType + "Avo");
  let accE = document.getElementById(baseType + "Acc");

  if(wdefE) {wdef = parseInt(wdefE.textContent);}
  if(mdefE) {mdef = parseInt(mdefE.textContent);}
  if(watkE) {watk = parseInt(watkE.textContent);}
  if(matkE) {matk = parseInt(matkE.textContent);}
  if(hpE) {hp = parseInt(hpE.textContent);}
  if(mpE) {mp = parseInt(mpE.textContent);}
  if(spdE) {spd = parseInt(spdE.textContent);}
  if(jmpE) {jmp = parseInt(jmpE.textContent);}
  if(strE) {str = parseInt(strE.textContent);}
  if(dexE) {dex = parseInt(dexE.textContent);}
  if(intE) {int = parseInt(intE.textContent);}
  if(lukE) {luk = parseInt(lukE.textContent);}
  if(avoE) {avo = parseInt(avoE.textContent);}
  if(accE) {acc = parseInt(accE.textContent);}

  switch(baseType) {
    case "gomu": {
      baseline = 6;
      total = wdef + spd + jmp + dex + avo + acc;
      break;
    }
    case "stripeM": {
      baseline = 11;
      total = wdef + mdef + parseInt(hp/10);
      break;
    }
    case "stripeF": {
      baseline = 11;
      total = wdef + mdef + parseInt(hp/10);
      break;
    }
    case "ice": {
      baseline = 13;
      total = wdef + parseInt((mp + hp)/10) + mdef;
      break;
    }
    case "sweat": {
      baseline = 10;
      total = wdef + parseInt(hp/10) + mdef;
      break;
    }
    case "wdana": {
      baseline = 8;
      total = wdef + mdef + acc;
      break;
    }
    case "witch": {
      baseline = 44;
      total = str + dex + luk + int + parseInt(mp/10) + wdef + mdef;
      break;
    }
    case "broom": {
      baseline = 36;
      total = watk + spd;
      break;
    }
    case "wbeltR": {
      baseline = 42;
      total = wdef + mdef + jmp;
      break;
    }
    case "wbeltB": {
      baseline = 92;
      total = wdef + mdef + spd;
      break;
    }
    case "wbeltP": {
      baseline = 126;
      total = watk + matk + wdef + mdef + spd + jmp;
      break;
    }
    default:
      break;
  }

  let diff = total-baseline;

  if(diff > 39) { // gold
    title.style.color = "#fffc29";
    tag.style.color = "#fffc29";
    img.style.filter = "drop-shadow(0 0 2px rgba(255, 252, 41, 0.9)) drop-shadow(0 0 2px rgba(255, 252, 41, 0.9))";
  }
  else if(diff > 22) { // purple
    title.style.color = "#cc66ff";
    tag.style.color = "#cc66ff";
    img.style.filter = "drop-shadow(0 0 2px rgba(204, 102, 255, 0.9)) drop-shadow(0 0 2px rgba(204, 102, 255, 0.9)) drop-shadow(0 0 2px rgba(204, 102, 255, 0.9))";
  }
  else if(diff > 5) { // blue
    title.style.color = "#55aaff";
    tag.style.color = "#55aaff";
    img.style.filter = "drop-shadow(0 0 2px rgba(85, 170, 255, 0.9)) drop-shadow(0 0 2px rgba(85, 170, 255, 0.9)) drop-shadow(0 0 2px rgba(85, 170, 255, 0.9))";
  }
  else if(diff >= 0) { // orange or white
    if(parseInt(tag.textContent[2]) > 0) {
      title.style.color = "#ff8811";
      tag.style.color = "#ff8811";
      img.style.filter = "drop-shadow(0 0 2px rgba(255, 255, 255, 0.9)) drop-shadow(0 0 2px rgba(255, 255, 255, 0.9))";
    }
    else {
      title.style.color = "#ffffff";
      tag.style.color = "#ffffff";
      img.style.filter = "";
    }
  }
  else { // orange or grey
    if(tag.textContent != "" && parseInt(tag.textContent[2]) > 0) {
      title.style.color = "#ff8811";
      tag.style.color = "#ff8811";
      img.style.filter = "drop-shadow(0 0 2px rgba(255, 255, 255, 0.9)) drop-shadow(0 0 2px rgba(255, 255, 255, 0.9))";
    }
    else {
      title.style.color = "#bbbbbb";
      tag.style.color = "#bbbbbb";
      img.style.filter = "";
    }
  }
}

function updateTag(baseType) {
  const tag = document.getElementById(baseType + "Tag");
  // Tag Counter
  if (tag.textContent == "") {
    tag.textContent = "(+1)";
  }
  else {
    tag.textContent = "(+" + (parseInt(tag.textContent[2]) + 1) + ")";
  }
  updateTagColor(baseType);
}

function scrollActivated(scrollType, baseType) {
  let slots = document.getElementById(baseType + "Slt");
  let total = 0;
  let recordStr = "";
  const baseName = document.getElementById(baseType + "Title").textContent;

  if(parseInt(slots.textContent) <= 0) {
    // make sound?
    document.body.classList.remove('custom-cursor-clicked');
    return;
  }

  switch(scrollType) {
    case "shoejmp10": {
      const spd = document.getElementById(baseType + "Spd");
      const jmp = document.getElementById(baseType + "Jmp");
      const dex = document.getElementById(baseType + "Dex");
      const dexLi = document.getElementById(baseType + "DexLi");
      const jmpLi = document.getElementById(baseType + "JmpLi");
      if(Math.random() >= 0.9) {
        goodResult();
        dexLi.style.display = "block";
        jmpLi.style.display = "block";
        spd.textContent = parseInt(spd.textContent) + 1;
        jmp.textContent = parseInt(jmp.textContent) + 5;
        dex.textContent = parseInt(dex.textContent) + 3;
        slots.textContent = parseInt(slots.textContent) - 1;
        updateTag(baseType);
      }
      else {
        badResult();
        slots.textContent = parseInt(slots.textContent) - 1;
      }
      let tagCount = document.getElementById(baseType + "Tag").textContent[2];
      total = spd.textContent + jmp.textContent;
      if(tagCount === undefined) {recordStr = spd.textContent + "spd, " + jmp.textContent + "jmp";}
      else{recordStr ="(+" + document.getElementById(baseType + "Tag").textContent[2] + "): " + spd.textContent + "spd, " + jmp.textContent + "jmp";} 
      break;
    }
    case "shoedex10": {
      const spd = document.getElementById(baseType + "Spd");
      const acc = document.getElementById(baseType + "Acc");
      const avo = document.getElementById(baseType + "Avo");
      const accLi = document.getElementById(baseType + "AccLi");
      const avoLi = document.getElementById(baseType + "AvoLi");
     if(Math.random() >= 0.9) {
        goodResult();
        accLi.style.display = "block";
        avoLi.style.display = "block";
        spd.textContent = parseInt(spd.textContent) + 1;
        avo.textContent = parseInt(avo.textContent) + 5;
        acc.textContent = parseInt(acc.textContent) + 3;
        slots.textContent = parseInt(slots.textContent) - 1;
        updateTag(baseType);
      }
      else {
        badResult();
        slots.textContent = parseInt(slots.textContent) - 1;
      }
      let tagCount = document.getElementById(baseType + "Tag").textContent[2];
      total = spd.textContent + jmp.textContent;
      if(tagCount === undefined) {recordStr = spd.textContent + "spd, " + jmp.textContent + "jmp";}
      else{recordStr = "(+" + document.getElementById(baseType + "Tag").textContent[2] + "): " + spd.textContent + "spd, " + jmp.textContent + "jmp";} 
      break;
    }
    case "botdef10":
    case "topdef10": {
      const wdef = document.getElementById(baseType + "Wdef");
      const mdef = document.getElementById(baseType + "Mdef");
      const hp = document.getElementById(baseType + "Hp");
      const mdefLi = document.getElementById(baseType + "MdefLi");
      const hpLi = document.getElementById(baseType + "HpLi");
      if(Math.random() >= 0.9) {
        goodResult();
        mdefLi.style.display = "block";
        hpLi.style.display = "block";
        wdef.textContent = parseInt(wdef.textContent) + 5;
        mdef.textContent = parseInt(mdef.textContent) + 3;
        hp.textContent = parseInt(hp.textContent) + 10;
        slots.textContent = parseInt(slots.textContent) - 1;
        updateTag(baseType);
      }
      else {
        badResult();
        slots.textContent = parseInt(slots.textContent) - 1;
      }
      let tagCount = document.getElementById(baseType + "Tag").textContent[2];
      total = wdef.textContent;
      if(tagCount === undefined) {recordStr = wdef.textContent + "def";}
      else{recordStr = "(+" + document.getElementById(baseType + "Tag").textContent[2] + "): " + wdef.textContent + "def";} 
      //console.log("Total: " + total + "   Best: " + best);
      break;
    }
    case "hatdef10": {
      const wdef = document.getElementById(baseType + "Wdef");
      const mdef = document.getElementById(baseType + "Mdef");
      const acc = document.getElementById(baseType + "Acc");
      const mdefLi = document.getElementById(baseType + "MdefLi");
      const accLi = document.getElementById(baseType + "AccLi");
      if(Math.random() >= 0.9) {
        goodResult();
        mdefLi.style.display = "block";
        accLi.style.display = "block";
        wdef.textContent = parseInt(wdef.textContent) + 5;
        mdef.textContent = parseInt(mdef.textContent) + 3;
        acc.textContent = parseInt(acc.textContent) + 1;
        slots.textContent = parseInt(slots.textContent) - 1;
        updateTag(baseType);
      }
      else {
        badResult();
        slots.textContent = parseInt(slots.textContent) - 1;
      }
      let tagCount = document.getElementById(baseType + "Tag").textContent[2];
      total = wdef.textContent;
      if(tagCount === undefined) {recordStr = wdef.textContent + "def";}
      else{recordStr = "(+" + document.getElementById(baseType + "Tag").textContent[2] + "): " + wdef.textContent + "def";} 
      break;
    }
    case "hatdef60": {
      const wdef = document.getElementById(baseType + "Wdef");
      const mdef = document.getElementById(baseType + "Mdef");
      const mdefLi = document.getElementById(baseType + "MdefLi");
      if(Math.random() >= 0.4) {
        goodResult();
        mdefLi.style.display = "block";
        wdef.textContent = parseInt(wdef.textContent) + 2;
        mdef.textContent = parseInt(mdef.textContent) + 1;
        slots.textContent = parseInt(slots.textContent) - 1;
        updateTag(baseType);
      }
      else {
        badResult();
        slots.textContent = parseInt(slots.textContent) - 1;
      }
      let tagCount = document.getElementById(baseType + "Tag").textContent[2];
      total = wdef.textContent;
      if(tagCount === undefined) {recordStr = wdef.textContent + "def";}
      else{recordStr = "(+" + document.getElementById(baseType + "Tag").textContent[2] + "): " + wdef.textContent + "def";} 
      break;
    }
    case "beltscr":
    case "witchscr": {
      let stats = [];
      let bestStats = [];
      let statNames = [];

      if(baseType == "witch") {
        const wdef = document.getElementById(baseType + "Wdef");
        const mdef = document.getElementById(baseType + "Mdef");
        const mp = document.getElementById(baseType + "Mp");
        const str = document.getElementById(baseType + "Str");
        const dex = document.getElementById(baseType + "Dex");
        const int = document.getElementById(baseType + "Int");
        const luk = document.getElementById(baseType + "Luk");       
        stats = [wdef,mdef,mp,str,dex,int,luk];
        bestStats = [str,dex,int,luk];
        statNames = ["str","dex","int","luk"];
      }
      if(baseType == "broom") {
        const watk = document.getElementById(baseType + "Watk");
        const spd = document.getElementById(baseType + "Spd");
        stats = [watk,spd];
        bestStats = [watk,spd];
        statNames = ["watk","spd"];
      }
      if(baseType == "wbeltR") {
        const wdef = document.getElementById(baseType + "Wdef");
        const mdef = document.getElementById(baseType + "Mdef");
        const jmp = document.getElementById(baseType + "Jmp");
        stats = [wdef,mdef,jmp];
        bestStats = [jmp];
        statNames = ["jmp"];
      }
      if(baseType == "wbeltB") {
        const wdef = document.getElementById(baseType + "Wdef");
        const mdef = document.getElementById(baseType + "Mdef");
        const spd = document.getElementById(baseType + "Spd");
        stats = [wdef,mdef,spd];
        bestStats = [spd];
        statNames = ["spd"];
      }
      if(baseType == "wbeltP") {
        const wdef = document.getElementById(baseType + "Wdef");
        const mdef = document.getElementById(baseType + "Mdef");
        const spd = document.getElementById(baseType + "Spd");
        const jmp = document.getElementById(baseType + "Jmp");
        const watk = document.getElementById(baseType + "Watk");
        const matk = document.getElementById(baseType + "Matk");
        stats = [wdef,mdef,spd,jmp,watk,matk];
        bestStats = [watk,spd,jmp];
        statNames = ["watk","spd","jmp"];
      }

      stats.forEach(stat => {
        if(parseInt(stat.textContent) > 0) {
           let roll = getRandomInteger(-5,5);
           stat.textContent = parseInt(stat.textContent) + roll;
           if(parseInt(stat.textContent) <= 0) {
              let li = document.getElementById(stat.id + "Li");
              li.style.display = "none";
              stat.textContent = 0;
           }
        }
      });
      goodResult();
      slots.textContent = parseInt(slots.textContent) - 1;
      updateTag(baseType);
      total = 0;
      bestStats.forEach(stat => {
        total = total + parseInt(stat.textContent);
      });

      recordStr = "";

      bestStats.forEach((stat, index) => {
        if(parseInt(stat.textContent) > 0) {
          recordStr += (parseInt(stat.textContent) + statNames[index] + " ");
        }
      });


      console.log("total: "+total+"     recordStr: "+recordStr);
      break;
    }
    default:
      break;
  }
  document.body.classList.remove('custom-cursor-clicked');
  const scrUsed = document.getElementById("scrUsed");
  const bestRes = document.getElementById("bestRes");
  scrUsed.textContent = parseInt(scrUsed.textContent) + 1;
  if(parseInt(slots.textContent) == 0) {
    if(total > best) {
      best = total;
      bestRes.textContent = recordStr;
    }
  }
}

function baseChange(event) {

    const bg = document.getElementById("scrollsim");
    // Clear scrolls and bases
    const scrolls = document.querySelectorAll('.hoverscroll');
    const bases = document.querySelectorAll('.dropZone');
    scrolls.forEach(scroll => {
      scroll.style.display = "none";
    });
    bases.forEach(base => {
      base.style.display = "none";
      base.classList.remove("activeBase");
    });

    // Populate inventory
    switch(event.target.value) {
      case "gomu": {
        const shoejmp10 = document.getElementById("shoejmp10");
        const shoedex10 = document.getElementById("shoedex10");
        const gomu = document.getElementById("gomu");
        shoejmp10.style.display = "block";
        shoedex10.style.display = "block";
        gomu.style.display = "block";
        gomu.classList.add("activeBase");
        bg.style.backgroundImage = "url(images/scroll/background1.png)";
        break;
      }
      case "stripeM": {
          const topdef10 = document.getElementById("topdef10");
          const stripeM = document.getElementById("stripeM");
          topdef10.style.display = "block";
          stripeM.style.display = "block";
          stripeM.classList.add("activeBase");
          bg.style.backgroundImage = "url(images/scroll/background1.png)";
        break;
      }
      case "stripeF": {
          const topdef10 = document.getElementById("topdef10");
          const stripeF = document.getElementById("stripeF");
          topdef10.style.display = "block";
          stripeF.style.display = "block";
          stripeF.classList.add("activeBase");
          bg.style.backgroundImage = "url(images/scroll/background1.png)";
        break;
      }
      case "ice": {
          const botdef10 = document.getElementById("botdef10");
          const ice = document.getElementById("ice");
          botdef10.style.display = "block";
          ice.style.display = "block";
          ice.classList.add("activeBase");
          bg.style.backgroundImage = "url(images/scroll/background1.png)";
        break;
      }
      case "sweat": {
          const botdef10 = document.getElementById("botdef10");
          const sweat = document.getElementById("sweat");
          botdef10.style.display = "block";
          sweat.style.display = "block";
          sweat.classList.add("activeBase");
          bg.style.backgroundImage = "url(images/scroll/background1.png)";
        break;
      }
      case "wdana": {
        const hatdef10 = document.getElementById("hatdef10");
        const hatdef60 = document.getElementById("hatdef60");
        const wdana = document.getElementById("wdana");
        hatdef10.style.display = "block";
        hatdef60.style.display = "block";
        wdana.style.display = "block";
        wdana.classList.add("activeBase");
        bg.style.backgroundImage = "url(images/scroll/background1.png)";
        break;
      }
      case "witch": {
        const witchscr = document.getElementById("witchscr");
        const witch = document.getElementById("witch");
        witchscr.style.display = "block";
        witch.style.display = "block";
        witch.classList.add("activeBase");
        bg.style.backgroundImage = "url(images/scroll/background2.png)";
        break;
      }
      case "broom": {
        const witchscr = document.getElementById("witchscr");
        const broom = document.getElementById("broom");
        witchscr.style.display = "block";
        broom.style.display = "block";
        broom.classList.add("activeBase");
        bg.style.backgroundImage = "url(images/scroll/background2.png)";
        break;
      }
      case "wbeltR": {
        const beltscr = document.getElementById("beltscr");
        const wbeltR = document.getElementById("wbeltR");
        beltscr.style.display = "block";
        wbeltR.style.display = "block";
        wbeltR.classList.add("activeBase");
        bg.style.backgroundImage = "url(images/scroll/background2.png)";
        break;
      }
      case "wbeltB": {
        const beltscr = document.getElementById("beltscr");
        const wbeltB = document.getElementById("wbeltB");
        beltscr.style.display = "block";
        wbeltB.style.display = "block";
        wbeltB.classList.add("activeBase");
        bg.style.backgroundImage = "url(images/scroll/background2.png)";
        break;
      }
      case "wbeltP": {
        const beltscr = document.getElementById("beltscr");
        const wbeltP = document.getElementById("wbeltP");
        beltscr.style.display = "block";
        wbeltP.style.display = "block";
        wbeltP.classList.add("activeBase");
        bg.style.backgroundImage = "url(images/scroll/background2.png)";
        break;
      }
      case "lights": {
        const hsatk = document.getElementById("1hsatk");
        const chaos = document.getElementById("chaos");
        const lights = document.getElementById("lights");
        hsatk.style.display = "block";
        chaos.style.display = "block";
        lights.style.display = "block";
        lights.classList.add("activeBase");
        bg.style.backgroundImage = "url(images/scroll/background1.png)";
        break;
      }
      case "basket": {
        const hsatk = document.getElementById("1hsatk");
        const chaos = document.getElementById("chaos");
        const basket = document.getElementById("basket");
        hsatk.style.display = "block";
        chaos.style.display = "block";
        basket.style.display = "block";
        basket.classList.add("activeBase");
        bg.style.backgroundImage = "url(images/scroll/background2.png)";
        break;
      }
    }

    resetStats();
    newItem();

}

function resetStats() {
  const scrUsed = document.getElementById("scrUsed");
  const basUsed = document.getElementById("basUsed");
  const bestRes = document.getElementById("bestRes");
  scrUsed.textContent = "0";
  basUsed.textContent = "0";
  bestRes.textContent = "N/A";
  best = 0;

}

function charChange() {

}

function getRandomInteger(min, max) {
  min = Math.ceil(min); 
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function newItem() {

    const baseType = document.getElementById("itemBaseSelect");
    let sound = new Audio('/images/scroll/NewBase.mp3');
    sound.play();

    switch(baseType.value) {
      case "gomu": {
        let wdef = 0;
        let spd = 0;
        const gomuSpd = document.getElementById("gomuSpd");
        const gomuWdef = document.getElementById("gomuWdef");
        const gomuJmp = document.getElementById("gomuJmp");
        const gomuDex = document.getElementById("gomuDex");
        const gomuAcc = document.getElementById("gomuAcc");
        const gomuAvo = document.getElementById("gomuAvo");
        const gomuSlt = document.getElementById("gomuSlt");
        const gomuDexLi = document.getElementById("gomuDexLi");
        const gomuAccLi = document.getElementById("gomuAccLi");
        const gomuAvoLi = document.getElementById("gomuAvoLi");
        const gomuJmpLi = document.getElementById("gomuJmpLi");
        const gomuTag = document.getElementById("gomuTag");
        
        if(Math.random() >= 0.8) {
          wdef = getRandomInteger(3,10);
          spd = getRandomInteger(1,8);
        }
        else {
          wdef = getRandomInteger(3,5);
          spd = getRandomInteger(1,3);
        }
        gomuSpd.textContent = spd;
        gomuWdef.textContent = wdef;
        gomuJmp.textContent = "0";
        gomuDex.textContent = "0";
        gomuAcc.textContent = "0";
        gomuAvo.textContent = "0";
        gomuSlt.textContent = "5";
        gomuTag.textContent = "";
        gomuDexLi.style.display = "none";
        gomuAccLi.style.display = "none";
        gomuAvoLi.style.display = "none";
        gomuJmpLi.style.display = "none";
        break;
      }
      case "stripeM": {
        let wdef = 0;
        let mdef = 0;
        let hp = 0;
        const stripeMWdef = document.getElementById("stripeMWdef");
        const stripeMMdef = document.getElementById("stripeMMdef");
        const stripeMHp = document.getElementById("stripeMHp");
        const stripeMSlt = document.getElementById("stripeMSlt");
        const stripeMMdefLi = document.getElementById("stripeMMdefLi");
        const stripeMHpLi = document.getElementById("stripeMHpLi");
        const stripeMTag = document.getElementById("stripeMTag");
        if(Math.random() >= 0.8) {
          wdef = getRandomInteger(9,18);
        }
        else {
          wdef = getRandomInteger(9,13);
        }
        stripeMWdef.textContent = wdef;
        stripeMMdef.textContent = "0";
        stripeMHp.textContent = "0";
        stripeMSlt.textContent = "7";
        stripeMTag.textContent = "";
        stripeMMdefLi.style.display = "none";
        stripeMHpLi.style.display = "none";
        break;
      }
      case "stripeF": {
        let wdef = 0;
        let mdef = 0;
        let hp = 0;
        const stripeFWdef = document.getElementById("stripeFWdef");
        const stripeFMdef = document.getElementById("stripeFMdef");
        const stripeFHp = document.getElementById("stripeFHp");
        const stripeFSlt = document.getElementById("stripeFSlt");
        const stripeFMdefLi = document.getElementById("stripeFMdefLi");
        const stripeFHpLi = document.getElementById("stripeFHpLi");
        const stripeFTag = document.getElementById("stripeFTag");
        if(Math.random() >= 0.8) {
          wdef = getRandomInteger(9,18);
        }
        else {
          wdef = getRandomInteger(9,13);
        }
        stripeFWdef.textContent = wdef;
        stripeFMdef.textContent = "0";
        stripeFHp.textContent = "0";
        stripeFSlt.textContent = "7";
        stripeFTag.textContent = "";
        stripeFMdefLi.style.display = "none";
        stripeFHpLi.style.display = "none";
        break;
      }
      case "ice": {
        let wdef = 0;
        let mdef = 0;
        let hp = 0;
        let mp = 0;
        const iceWdef = document.getElementById("iceWdef");
        const iceMdef = document.getElementById("iceMdef");
        const iceHp = document.getElementById("iceHp");
        const iceMp = document.getElementById("iceMp");
        const iceSlt = document.getElementById("iceSlt");
        const iceMdefLi = document.getElementById("iceMdefLi");
        const iceHpLi = document.getElementById("iceHpLi");
        const iceTag = document.getElementById("iceTag");
        if(Math.random() >= 0.8) {
          wdef = getRandomInteger(11,20);
          mp = getRandomInteger(2,9);
        }
        else {
          wdef = getRandomInteger(11,15);
          mp = getRandomInteger(2,4);
        }
        iceWdef.textContent = wdef;
        iceMp.textContent = mp;
        iceMdef.textContent = "0";
        iceHp.textContent = "0";
        iceSlt.textContent = "7";
        iceTag.textContent = "";
        iceMdefLi.style.display = "none";
        iceHpLi.style.display = "none";
        break;
      }
      case "sweat": {
        let wdef = 0;
        let mdef = 0;
        let hp = 0;
        const sweatWdef = document.getElementById("sweatWdef");
        const sweatMdef = document.getElementById("sweatMdef");
        const sweatHp = document.getElementById("sweatHp");
        const sweatSlt = document.getElementById("sweatSlt");
        const sweatMdefLi = document.getElementById("sweatMdefLi");
        const sweatHpLi = document.getElementById("sweatHpLi");
        const sweatTag = document.getElementById("sweatTag");
        if(Math.random() >= 0.8) {
          wdef = getRandomInteger(9,16);
        }
        else {
          wdef = getRandomInteger(9,11);
        }
        sweatWdef.textContent = wdef;
        sweatMdef.textContent = "0";
        sweatHp.textContent = "0";
        sweatSlt.textContent = "7";
        sweatTag.textContent = "";
        sweatMdefLi.style.display = "none";
        sweatHpLi.style.display = "none";
        break;
      }
      case "wdana": {
        let wdef = 0;
        let mdef = 0;
        let acc = 0;
        const wdanaWdef = document.getElementById("wdanaWdef");
        const wdanaMdef = document.getElementById("wdanaMdef");
        const wdanaAcc = document.getElementById("wdanaAcc");
        const wdanaSlt = document.getElementById("wdanaSlt");
        const wdanaMdefLi = document.getElementById("wdanaMdefLi");
        const wdanaAccLi = document.getElementById("wdanaAccLi");
        const wdanaTag = document.getElementById("wdanaTag");
        if(Math.random() >= 0.8) {
          wdef = getRandomInteger(7,14);
        }
        else {
          wdef = getRandomInteger(7,9);
        }
        wdanaWdef.textContent = wdef;
        wdanaMdef.textContent = "0";
        wdanaAcc.textContent = "0";
        wdanaSlt.textContent = "7";
        wdanaTag.textContent = "";
        wdanaMdefLi.style.display = "none";
        wdanaAccLi.style.display = "none";
        break;
      }
      case "witch": {    
        const witchWdef = document.getElementById("witchWdef");
        const witchMdef = document.getElementById("witchMdef");
        const witchMp = document.getElementById("witchMp");
        const witchStr = document.getElementById("witchStr");
        const witchDex = document.getElementById("witchDex");
        const witchInt = document.getElementById("witchInt");
        const witchLuk = document.getElementById("witchLuk");

        const witchSlt = document.getElementById("witchSlt");
        const witchMdefLi = document.getElementById("witchMdefLi");
        const witchWdefLi = document.getElementById("witchMdefLi");
        const witchMpLi = document.getElementById("witchMpLi");
        const witchStrLi = document.getElementById("witchStrLi");
        const witchDexLi = document.getElementById("witchDexLi");
        const witchIntLi = document.getElementById("witchIntLi");
        const witchLukLi = document.getElementById("witchLukLi");
  
        const witchTag = document.getElementById("witchTag");

        witchWdef.textContent = "15";
        witchMdef.textContent = "15";
        witchStr.textContent = "1";
        witchDex.textContent = "1";
        witchInt.textContent = "1";
        witchLuk.textContent = "1";
        witchMp.textContent = "100";
        witchSlt.textContent = "7";
        witchTag.textContent = "";
        witchMdefLi.style.display = "block";
        witchWdefLi.style.display = "block";
        witchMpLi.style.display = "block";
        witchStrLi.style.display = "block";
        witchDexLi.style.display = "block";
        witchIntLi.style.display = "block";
        witchLukLi.style.display = "block";
    
        break;
      }
      case "broom": {    
        const broomWatk = document.getElementById("broomWatk");
        const broomSpd = document.getElementById("broomSpd");
        const broomSlt = document.getElementById("broomSlt");
        const broomWatkLi = document.getElementById("broomWatkLi");
        const broomSpdLi = document.getElementById("broomSpdLi");
        const broomTag = document.getElementById("broomTag");

        broomWatk.textContent = "31";
        broomSpd.textContent = "5";
        broomSlt.textContent = "7";
        broomTag.textContent = "";
        broomWatkLi.style.display = "block";
        broomSpdLi.style.display = "block";  
        break;
      }
      case "wbeltR": {    
        const wbeltRWdef = document.getElementById("wbeltRWdef");
        const wbeltRMdef = document.getElementById("wbeltRMdef");
        const wbeltRJmp = document.getElementById("wbeltRJmp");
        const wbeltRSlt = document.getElementById("wbeltRSlt");
        const wbeltRWdefLi = document.getElementById("wbeltRWdefLi");
        const wbeltRMdefLi = document.getElementById("wbeltRMdefLi");
        const wbeltRJmpLi = document.getElementById("wbeltRJmpLi");
        const wbeltRTag = document.getElementById("wbeltRTag");

        wbeltRWdef.textContent = "20";
        wbeltRMdef.textContent = "20";
        wbeltRJmp.textContent = "2";
        wbeltRSlt.textContent = "3";
        wbeltRTag.textContent = "";
        wbeltRWdefLi.style.display = "block";
        wbeltRMdefLi.style.display = "block";
        wbeltRJmpLi.style.display = "block";  
        break;
      }
      case "wbeltB": {    
        const wbeltBWdef = document.getElementById("wbeltBWdef");
        const wbeltBMdef = document.getElementById("wbeltBMdef");
        const wbeltBSpd = document.getElementById("wbeltBSpd");
        const wbeltBSlt = document.getElementById("wbeltBSlt");
        const wbeltBWdefLi = document.getElementById("wbeltBWdefLi");
        const wbeltBMdefLi = document.getElementById("wbeltBMdefLi");
        const wbeltBSpdLi = document.getElementById("wbeltBSpdLi");
        const wbeltBTag = document.getElementById("wbeltBTag");

        wbeltBWdef.textContent = "45";
        wbeltBMdef.textContent = "45";
        wbeltBSpd.textContent = "2";
        wbeltBSlt.textContent = "3";
        wbeltBTag.textContent = "";
        wbeltBWdefLi.style.display = "block";
        wbeltBMdefLi.style.display = "block";
        wbeltBSpdLi.style.display = "block";  
        break;
      }
      case "wbeltP": {    
        const wbeltPWdef = document.getElementById("wbeltPWdef");
        const wbeltPMdef = document.getElementById("wbeltPMdef");
        const wbeltPWatk = document.getElementById("wbeltPWatk");
        const wbeltPMatk = document.getElementById("wbeltPMatk");
        const wbeltPSpd = document.getElementById("wbeltPSpd");
        const wbeltPJmp = document.getElementById("wbeltPJmp");
        const wbeltPSlt = document.getElementById("wbeltPSlt");
        const wbeltPWdefLi = document.getElementById("wbeltPWdefLi");
        const wbeltPMdefLi = document.getElementById("wbeltPMdefLi");
        const wbeltPWatkLi = document.getElementById("wbeltPWatkLi");
        const wbeltPMatkLi = document.getElementById("wbeltPMatkLi");
        const wbeltPSpdLi = document.getElementById("wbeltPSpdLi");
        const wbeltPJmpLi = document.getElementById("wbeltPJmpLi");
        const wbeltPTag = document.getElementById("wbeltPTag");

        wbeltPWatk.textContent = "1";
        wbeltPMatk.textContent = "1";
        wbeltPWdef.textContent = "60";
        wbeltPMdef.textContent = "60";
        wbeltPSpd.textContent = "2";
        wbeltPJmp.textContent = "2";
        wbeltPSlt.textContent = "3";
        wbeltPTag.textContent = "";
        wbeltPWatkLi.style.display = "block";
        wbeltPMatkLi.style.display = "block";
        wbeltPWdefLi.style.display = "block";
        wbeltPMdefLi.style.display = "block";
        wbeltPSpdLi.style.display = "block";  
        wbeltPJmpLi.style.display = "block";  
        break;
      }
      case "lights": {    
        let watk = 0;
        let spd = 0;
        const lightsStr = document.getElementById("lightsStr");
        const lightsWatk = document.getElementById("lightsWatk");
        const lightsWdef = document.getElementById("lightsWdef");
        const lightsSpd = document.getElementById("lightsSpd");
        const lightsSlt = document.getElementById("lightsSlt");
        const lightsWatkLi = document.getElementById("lightsWatkLi");
        const lightsSpdLi = document.getElementById("lightsSpdLi");
        const lightsStrLi = document.getElementById("lightsStrLi");
        const lightsWdefLi = document.getElementById("lightsWdefLi");
        const lightsTag = document.getElementById("lightsTag");

        if(Math.random() >= 0.8) {
          watk = getRandomInteger(38,53);
          spd = getRandomInteger(9,16);
        }
        else {
          watk = getRandomInteger(38,48);
          spd = getRandomInteger(9,11);
        }

        lightsWatk.textContent = watk;
        lightsSpd.textContent = spd;
        lightsSlt.textContent = "7";
        lightsTag.textContent = "";
        lightsStr.textContent = "0";
        lightsWdef.textContent = "0";
        lightsWatkLi.style.display = "block";
        lightsSpdLi.style.display = "block";  
        lightsStrLi.style.display = "none";
        lightsWdefLi.style.display = "none";
        break;
      }
      default:
        break;
    }
    updateTagColor(baseType.value);
    const basUsed = document.getElementById("basUsed");
    basUsed.textContent = parseInt(basUsed.textContent) + 1;
}

function badResult()
{
  let sound = new Audio('/images/scroll/no.mp3');
  const noAnim = document.getElementById('scrollNo');
  const face = document.getElementById('face');
  sound.play();
  noAnim.style.display = 'block';
  noAnim.src = '';
  noAnim.src = 'images/scroll/no.gif';
  face.src ='/images/scroll/toben-smile.png';
  setTimeout(function() {
    face.src ='';
  }, 1000);
}

function goodResult()
{
  let sound = new Audio('/images/scroll/yes.mp3');
  const yesAnim = document.getElementById('scrollYes');
  const face = document.getElementById('face');
  sound.play();
  yesAnim.style.display = 'block';
  yesAnim.src = '';
  yesAnim.src = 'images/scroll/yes.gif';
  face.src ='/images/scroll/toben-smile.png';
  setTimeout(function() {
    face.src ='';
  }, 1000);
}

//Base Tooltip Code
const baseBoxes = document.querySelectorAll('.baseBox');
const bases = document.querySelectorAll('.dropZone');

bases.forEach(base => {
  let baseBoxID = base.id + "Box";
  let baseBox = document.getElementById(baseBoxID);
  base.addEventListener('mouseenter', () => {
    const rect = base.getBoundingClientRect();
    baseBox.style.top = `${rect.bottom - 42}px`;
    baseBox.style.left = `${rect.left}px`;
    void baseBox.offsetWidth;
    baseBox.classList.add('visible');
  });

  base.addEventListener('mouseleave', () => {
    baseBox.classList.remove('visible');
  });
});

// Scroll Tooltip Code
const scrolltip = document.getElementById('scrollBox');
const scrolltipTitle = document.getElementById('scrolltipTitle');
const scrolltipDesc1 = document.getElementById('scrolltipDesc1');
const scrolltipDesc2 = document.getElementById('scrolltipDesc2');
const scrolltipDesc3 = document.getElementById('scrolltipDesc3');
const scrolltipDesc4 = document.getElementById('scrolltipDesc4');
const scrolltipImg = document.getElementById('scrolltipImg');
const hoverscrolls = document.querySelectorAll('.hoverscroll');

hoverscrolls.forEach(container => {
    container.addEventListener('mouseenter', () => {
      const rect = container.getBoundingClientRect();
      scrolltip.style.top = `${rect.bottom + 8}px`;
      scrolltip.style.left = `${rect.left}px`;
      scrolltipTitle.textContent = container.dataset.title;
      scrolltipDesc1.textContent = container.dataset.desc1;
      scrolltipDesc2.textContent = container.dataset.desc2;
      scrolltipDesc3.textContent = container.dataset.desc3;
      scrolltipDesc4.textContent = container.dataset.desc4;
      scrolltipImg.src = container.src;
      void scrolltip.offsetWidth;
      scrolltip.classList.add('visible');
    });

    container.addEventListener('mouseleave', () => {
      scrolltip.classList.remove('visible');
    });
});

// Anticheat code
const antiCheat = (mutationsList, observer) => {
  for (const mutation of mutationsList) {
    if(mutation.type == "characterData") {
      if(mutation.target.parentElement.nodeName != "BODY") {
        let sound = new Audio('/images/scroll/cheat.mp3');
        sound.play();
        mutation.target.parentElement.textContent = "CHEATER!";
      }
    } 
  }
}

const observer = new MutationObserver(antiCheat);
let obsconfig = {
  childList: true,
  subtree: true,
  characterData: true
}
observer.observe(document.body,obsconfig);

//cursor code
cursorDiv = document.getElementById('scrollsim');

cursorDiv.addEventListener('mouseenter', function() {
  document.body.classList.add('custom-cursor');
});

cursorDiv.addEventListener('mouseleave', function() {
  document.body.classList.remove('custom-cursor');
});

cursorDiv.addEventListener('mousedown', function() {
  document.body.classList.add('custom-cursor-clicked');
});

cursorDiv.addEventListener('mouseup', function() {
  document.body.classList.remove('custom-cursor-clicked');
});



// todo:
// random emotes
// background music
// music/sfx toggle
// tutorial bubbles
// prevent highlight
// characters
// cheat clown + bad luck
// style stats and controls
// mobile compatibility
// virus17 easter egg


</script>
</body>
</html>